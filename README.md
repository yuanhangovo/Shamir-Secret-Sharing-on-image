# Shamir-Secret-Sharing-on-image
这里采用shamir秘密共享的方法实现图像的共享。因为图像一般为3通道8位形式存储（RGB，0~255），故采用有限域上的shamir秘密共享方法：
* 加密与密钥分发：选取一个质数（要求大于秘密共享的参与方数量n），这里选择了257（最靠近255的质数），然后在这个有限域中选取随机数A_1,A_2,A_3,… ,A_(r-1)（r为门限），构造一个r-1次多项式F(x)=A_0+A_1 x+⋯+A_(r-1) x^(r-1)，令A_0为秘密S（即图像中每个像素单通道的值），选取有限域上的值x_i，对r个参与方P_1,P_2,… ,P_r，P_i分配到的子密钥为(x_i,F(x_i ))。
* 解密：任意选取r个子密钥图片，通过拉格朗日插值法算出A_0，即得原图像素值。

对于本次加密对象为图像，子密钥也为图像的情况下，如果直接采用原方法进行加密，对于有限域上的构造多项式方法有可能会产生256的结果，如果采用常规三通道8位图像存储会损失这一结果（即被强制转化为255），故肯定需要增加冗余来记录这一信息。
增加冗余的方法有多种，能想到的有：
*	对于不存在透明度信息的图片（RGB非RGBA），可以将冗余信息存于透明度通道。优点是增加冗余占用空间不大，且最后解密随图像一起读入，运算方便；缺点是占用了透明度通道。
*	可以将冗余信息写入图像数据块（chunk）中，优点是占用空间不大；缺点是读取速度较慢
*	可以将子密钥图像存为三通道16位图像，优点是运算较快；缺点是占用空间较大
这里采用第三种方式实现无损的图像还原。

部分代码参考自[williamium3000/shamir-secret-image-sharing](https://github.com/williamium3000/shamir-secret-image-sharing)
